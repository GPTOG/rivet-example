version: 4
data:
  attachedData:
    trivet:
      testSuites: []
      version: 1
  graphs:
    5BI0Pfuu2naOUKqGUO-yZ:
      metadata:
        description: ""
        id: 5BI0Pfuu2naOUKqGUO-yZ
        name: "* Initial Chat"
      nodes:
        '[-W6COoQKUcQ9w9B3jI03T]:subGraph "Subgraph"':
          data:
            graphId: r97vYKQCVceae5VCCKK4J
            useAsGraphPartialOutput: false
            useErrorOutput: false
          outgoingConnections:
            - output->"Coalesce" TiKgjE9lRKo7jxKHSG5Ts/input1
          visualData: 2534.798280643776/895.5737685622308/300/13
        '[-v8vfkQzqCrE6X_BYGRI7]:graphInput "Graph Input"':
          data:
            dataType: object[]
            id: messages
            useDefaultValueInput: true
          outgoingConnections:
            - data->"Assemble Prompt" bT5C1n80OJUvt0HWT3s2N/message1
            - data->"Messages" vo5dYm9w-N3DqWKg6GBB9/input1
          visualData: 536/302/300/null
        '[3fKJMBoMrWywddgvRuXzX]:if "If"':
          outgoingConnections:
            - output->"Subgraph" KTDjmUolLaU2mGXtP3KX1/input
          visualData: 2313.8450726970595/1155.0475826962102/125/20
        '[59C-lzmaNDStH3FGrlK-q]:extractRegex "Extract Regex"':
          data:
            errorOnFailed: false
            regex: "APPROPRIATE_SKILL: ([a-zA-Z0-9_]+)"
            useRegexInput: false
          outgoingConnections:
            - output1->"Match" C9hewJjzGnDPz3ekCRq6T/input
          visualData: 1609/735/250/null
        '[C9hewJjzGnDPz3ekCRq6T]:match "Match"':
          data:
            caseCount: 2
            cases:
              - SIMPLE_REPLY
              - PLAY_GAME_OF_24
          outgoingConnections:
            - case1->"If" xOaYW0KIyS32L3yZCXgyz/if
            - case2->"If" 3fKJMBoMrWywddgvRuXzX/if
          visualData: 1962/777/250/8
        '[KTDjmUolLaU2mGXtP3KX1]:subGraph "Subgraph"':
          data:
            graphId: img3RO-RZ3wj9vprc0g7x
            useAsGraphPartialOutput: false
            useErrorOutput: false
          outgoingConnections:
            - output->"Coalesce" TiKgjE9lRKo7jxKHSG5Ts/input2
          visualData: 2522.5853779716526/1140.515029797346/300/21
        '[TiKgjE9lRKo7jxKHSG5Ts]:coalesce "Coalesce"':
          outgoingConnections:
            - output->"Graph Output" a3laSCibbrhJ4FVNCl3pD/value
          visualData: 3045.1640486585893/897.1700944310428/150/16
        '[a3laSCibbrhJ4FVNCl3pD]:graphOutput "Graph Output"':
          data:
            dataType: string
            id: output
          visualData: 3303.4578993132927/866.9252090343319/300/17
        '[bDQ8wPuk4SzLclg0UerD0]:prompt "Prompt"':
          data:
            enableFunctionCall: false
            promptText: How can I help?
            type: assistant
            useTypeInput: false
          outgoingConnections:
            - output->"Assemble Prompt" fykcLhOkm_HAYnw-5KIH3/message1
          visualData: -212/190/250/1
        '[bT5C1n80OJUvt0HWT3s2N]:assemblePrompt "Assemble Prompt"':
          outgoingConnections:
            - prompt->"Chat" rTcNfKE6RPuc1xmHw1XAC/prompt
          visualData: 1027/774/250/6
        '[fykcLhOkm_HAYnw-5KIH3]:assemblePrompt "Assemble Prompt"':
          outgoingConnections:
            - prompt->"Graph Input" -v8vfkQzqCrE6X_BYGRI7/default
          visualData: 108/292/250/null
        '[gDu9dzQVvUPtY2sfkkaTh]:prompt "Prompt"':
          data:
            enableFunctionCall: false
            promptText: 5 5 1
            type: user
            useTypeInput: false
          outgoingConnections:
            - output->"Assemble Prompt" fykcLhOkm_HAYnw-5KIH3/message2
          visualData: -213/362/250/2
        '[jWA87wcF_GlS2np55xD5z]:text "Text"':
          data:
            text: You are a helpful assistant.
          outgoingConnections:
            - output->"Chat" rTcNfKE6RPuc1xmHw1XAC/systemPrompt
          visualData: 628/589/300/null
        '[m-mbyszIqKzxgtKg1NrZ6]:prompt "Prompt"':
          data:
            enableFunctionCall: false
            promptText: >-
              Your task is to choose the most appropriate skill to execute to
              respond to the user. The skills you can choose from are:

              * PLAY_GAME_OF_24 - solve a "game of 24" puzzle. This is appropriate if the user gives you several integers.

              * SIMPLE_REPLY - reply to the user, based on the conversation. Only select this skill if no other skills are appropriate.


              FIRST, explain your reasoning.

              THEN, respond in the following format:


              APPROPRIATE_SKILL: [SKILL]
            type: user
            useTypeInput: false
          outgoingConnections:
            - output->"Assemble Prompt" bT5C1n80OJUvt0HWT3s2N/message2
          visualData: 684/731/250/5
        '[rTcNfKE6RPuc1xmHw1XAC]:chat "Chat"':
          data:
            cache: false
            enableFunctionUse: false
            frequencyPenalty: 0
            maxTokens: 1024
            model: gpt-3.5-turbo
            presencePenalty: 0
            stop: ""
            temperature: 0
            top_p: 1
            useAsGraphPartialOutput: true
            useFrequencyPenaltyInput: false
            useMaxTokensInput: false
            useModelInput: false
            usePresencePenaltyInput: false
            useStop: false
            useStopInput: false
            useTemperatureInput: false
            useTopP: false
            useTopPInput: false
            useUseTopPInput: false
            useUserInput: false
          outgoingConnections:
            - response->"Extract Regex" 59C-lzmaNDStH3FGrlK-q/input
          visualData: 1323/479/200/3
        '[vo5dYm9w-N3DqWKg6GBB9]:passthrough "Messages"':
          outgoingConnections:
            - output1->"If" 3fKJMBoMrWywddgvRuXzX/value
            - output1->"If" xOaYW0KIyS32L3yZCXgyz/value
          visualData: 2049.440837396666/1151.3505342672684/175/19
        '[xOaYW0KIyS32L3yZCXgyz]:if "If"':
          outgoingConnections:
            - output->"Subgraph" -W6COoQKUcQ9w9B3jI03T/messages
          visualData: 2314.864040189484/910.9264148080714/125/null
    img3RO-RZ3wj9vprc0g7x:
      metadata:
        description: ""
        id: img3RO-RZ3wj9vprc0g7x
        name: Play 24
      nodes:
        '[DDzJnQnNkq5S2CXgrqeTO]:graphInput "Graph Input"':
          data:
            dataType: chat-message[]
            id: input
            useDefaultValueInput: false
          outgoingConnections:
            - data->"Assemble Prompt" RK-JSMbiBDXHieuODZ1UQ/message1
          visualData: 597/439/300/null
        '[IxNaO-Ge-QFsjlPWmL0X8]:graphOutput "Graph Output"':
          data:
            dataType: string
            id: output
          visualData: 2167/537/300/3
        '[RK-JSMbiBDXHieuODZ1UQ]:assemblePrompt "Assemble Prompt"':
          outgoingConnections:
            - prompt->"Chat" XcI4a5ehj_O13pOmwXmxQ/prompt
          visualData: 1364/650/250/null
        '[XcI4a5ehj_O13pOmwXmxQ]:chat "Chat"':
          data:
            cache: false
            enableFunctionUse: false
            frequencyPenalty: 0
            maxTokens: 1024
            model: gpt-3.5-turbo
            presencePenalty: 0
            stop: ""
            temperature: 0
            top_p: 1
            useAsGraphPartialOutput: true
            useFrequencyPenaltyInput: false
            useMaxTokensInput: false
            useModelInput: false
            usePresencePenaltyInput: false
            useStop: false
            useStopInput: false
            useTemperatureInput: false
            useTopP: false
            useTopPInput: false
            useUseTopPInput: false
            useUserInput: false
          outgoingConnections:
            - response->"Graph Output" IxNaO-Ge-QFsjlPWmL0X8/value
          visualData: 1768/544/200/2
        '[hMIBnjUZGOOhd7BjO8Dmg]:prompt "Prompt"':
          data:
            enableFunctionCall: false
            promptText: >-
              I should have provided you some numbers in my previous message.


              Your task is to make the number 24 using all of these numbers. You can add, subtract, multiply, and divide. Use all the numbers provided exactly once. For example, if I gave you "5, 5, 3, 4" a valid answer would be "5 * 5 - (4 - 3)."


              FIRST, explain your reasoning.

              SECOND, output the answer in the format below:

              ANSWER: 5 * 5 - (4 - 3)


              THEN, consider whether the answer you gave was correct. If not, try again.
            type: user
            useTypeInput: false
          outgoingConnections:
            - output->"Assemble Prompt" RK-JSMbiBDXHieuODZ1UQ/message2
          visualData: 999/748/250/1
    r97vYKQCVceae5VCCKK4J:
      metadata:
        description: ""
        id: r97vYKQCVceae5VCCKK4J
        name: Simple Reply
      nodes:
        '[2WgFF9l52waW8JTlmtItb]:text "Text"':
          data:
            text: >-
              You are a helpful assistant.


              You have access to the following skills:

              - Play a game of 24. If the user provides you with a few integers, you can try to combine them with simple arithmetic operations to get to a value of 24.
          outgoingConnections:
            - output->"Chat" g1OFlelzeONyJvWgLxmiS/systemPrompt
          visualData: 732/104/300/null
        '[6Gr81m6XMKM52nSAG-2b5]:graphOutput "Graph Output"':
          data:
            dataType: string
            id: output
          visualData: 1582/198/300/2
        '[g1OFlelzeONyJvWgLxmiS]:chat "Chat"':
          data:
            cache: false
            enableFunctionUse: false
            frequencyPenalty: 0
            maxTokens: 1024
            model: gpt-3.5-turbo
            presencePenalty: 0
            stop: ""
            temperature: 0.5
            top_p: 1
            useAsGraphPartialOutput: true
            useFrequencyPenaltyInput: false
            useMaxTokensInput: false
            useModelInput: false
            usePresencePenaltyInput: false
            useStop: false
            useStopInput: false
            useTemperatureInput: false
            useTopP: false
            useTopPInput: false
            useUseTopPInput: false
            useUserInput: false
          outgoingConnections:
            - response->"Graph Output" 6Gr81m6XMKM52nSAG-2b5/value
          visualData: 1202/132/200/1
        '[yjH76st57RvQxmseZ-m_u]:graphInput "Graph Input"':
          data:
            dataType: chat-message[]
            id: messages
            useDefaultValueInput: false
          outgoingConnections:
            - data->"Chat" g1OFlelzeONyJvWgLxmiS/prompt
          visualData: 692/322/300/null
  metadata:
    description: ""
    id: QiMtlIf2TmgkjfxPGu1Cd
    title: Untitled Project
